<ion-header [translucent]="true">
  <ion-toolbar class="centered-toolbar">
    <ion-buttons slot="start">
      <ion-button fill="clear" (click)="goBack()">
        <ion-icon name="chevron-back-outline" slot="icon-only" style="font-size: 24px;"></ion-icon>
      </ion-button>
    </ion-buttons>
    <div slot="primary" class="centered-title">Slip Gaji & Tunjangan</div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="form-container">
    <ion-item>
      <ion-label>Pilih Bulan</ion-label>
      <ion-select [(ngModel)]="selectedMonth" interface="popover">
        <ion-select-option *ngFor="let bulan of months" [value]="bulan">{{ bulan }}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>Pilih Tahun</ion-label>
      <ion-select [(ngModel)]="selectedYear" interface="popover">
        <ion-select-option *ngFor="let tahun of years" [value]="tahun">{{ tahun }}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-button expand="block" (click)="downloadPDF()" [disabled]="!selectedMonth || !selectedYear">
      Download PDF
    </ion-button>
  </div>

  <!-- Elemen slip gaji yang muncul hanya saat proses PDF -->
  <div *ngIf="slipVisible" id="slipGaji" class="slip-container">
    <img src="assets/logo.png" alt="Logo Perusahaan" class="logo" />
    <h2 class="title">PT. JAYA BERKAH UTAMA</h2>
    <p class="alamat">Jl. Jendral Sudirman RT. 014 RW. 004 Ardiarsa Kec. Karawang Barat<br>Kabupaten Karawang â€“ Jawa Barat 43289</p>
    <h3 class="slip-title">SLIP GAJI</h3>
    <table class="gaji-table">
      <tr><td>GAJI BULAN</td><td>: {{ selectedMonth }} {{ selectedYear }}</td></tr>
      <tr><td>NAMA</td><td>: Rendy Suwandi Saputra</td></tr>
      <tr><td>HARI KERJA</td><td>: 8 Hari</td></tr>
      <tr><td>ALPA KERJA</td><td>: 0 Hari</td></tr>
      <tr><td>JAM TELAT</td><td>: 0</td></tr>
    </table>
    <div class="section">
      <div class="left">
        <strong>PENGHASILAN:</strong>
        <p>GAJI POKOK: Rp4.250.000</p>
        <p>LEMBURAN: Rp310.000</p>
        <p>TUNJANGAN: Rp -</p>
      </div>
      <div class="right">
        <strong>POTONGAN:</strong>
        <p>KASBON: Rp -</p>
        <p>ALPA: Rp -</p>
        <p>ABSEN: Rp -</p>
        <p>PPh 21: Rp -</p>
      </div>
    </div>
    <h4 class="gaji-bersih">GAJI BERSIH: <span>Rp4.560.000</span></h4>
    <div class="signature">
      <div><p>Yang Menyerahkan,</p><br /><strong>Toriq Ardiansya</strong></div>
      <div><p>Yang Menerima,</p><br /><strong>Rendy Suwandi S</strong></div>
    </div>
  </div>
</ion-content>

<!-- Floating Footer -->
<ion-toolbar class="footer-toolbar">
  <ion-buttons class="footer-menu" expand="block">
    <ion-button fill="clear" class="footer-icon" (click)="goTo('beranda')">
      <ion-icon name="home-outline" slot="icon-only"></ion-icon>
    </ion-button>
    <ion-button fill="clear" class="footer-icon" (click)="goTo('perusahaan')">
      <ion-icon name="business-outline" slot="icon-only"></ion-icon>
    </ion-button>
    <ion-button fill="clear" class="footer-icon" (click)="goTo('akun')">
      <ion-icon name="person-outline" slot="icon-only"></ion-icon>
    </ion-button>
  </ion-buttons>
</ion-toolbar>

