<ion-header [translucent]="true">
  <ion-toolbar class="centered-toolbar">
    <ion-buttons slot="start">
      <ion-button fill="clear" (click)="goBack()">
        <ion-icon name="chevron-back-outline" slot="icon-only" style="font-size: 24px;"></ion-icon>
      </ion-button>
    </ion-buttons>
    <div slot="primary" class="centered-title">Presensi</div>
  </ion-toolbar>
</ion-header>

<ion-content scroll-events="true">
  <div class="form-wrapper">
    <ion-card class="menu-card">
      <ion-grid>
        <ion-row>
          <ion-col size="6" class="icon-col" (click)="ambilPresensi('masuk')">
            <div class="circle-icon"><ion-icon name="briefcase-outline"></ion-icon></div>
            <p>Presensi Masuk</p>
          </ion-col>
          <ion-col size="6" class="icon-col" (click)="ambilPresensi('keluar')">
            <div class="circle-icon"><ion-icon name="walk-outline"></ion-icon></div>
            <p>Presensi Keluar</p>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card>
  </div>

  <ion-card *ngIf="presensiData">
    <img [src]="presensiData.foto" />
    <ion-card-content>
      <p><strong>Jenis:</strong> {{ presensiData.jenis }}</p>
      <p><strong>Waktu:</strong> {{ presensiData.waktu }}</p>
      <p><strong>Lokasi:</strong> {{ presensiData.lokasi }}</p>

      <ion-button expand="block" color="primary" (click)="kirimPresensi()" class="submit-button">
        Kirim Presensi
      </ion-button>
    </ion-card-content>
  </ion-card>
</ion-content>

<!-- Floating Footer -->
<ion-toolbar class="footer-toolbar">
  <ion-buttons class="footer-menu" expand="block">
    <div
      class="footer-icon"
      [ngClass]="{ active: activeRoute.includes('/dashboard') }"
      (click)="goTo('beranda')"
    >
      <ion-icon name="home-outline"></ion-icon>
    </div>
    <div
      class="footer-icon"
      [ngClass]="{ active: activeRoute.includes('/presensi') }"
      (click)="goTo('presensi')"
    >
      <ion-icon name="finger-print-outline"></ion-icon>
    </div>
    <div
      class="footer-icon"
      [ngClass]="{ active: activeRoute.includes('/akun') }"
      (click)="goTo('akun')"
    >
      <ion-icon name="person-outline"></ion-icon>
    </div>
  </ion-buttons>
</ion-toolbar>

<script type="module">
  import { defineCustomElements } from 'https://cdn.jsdelivr.net/npm/@ionic/pwa-elements@3/loader/index.es2017.js';
  defineCustomElements(window);
</script>

